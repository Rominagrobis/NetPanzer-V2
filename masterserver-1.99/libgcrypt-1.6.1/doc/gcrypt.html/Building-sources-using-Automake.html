<html lang="en">
<head>
<title>Building sources using Automake - The Libgcrypt Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The Libgcrypt Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Preparation.html#Preparation" title="Preparation">
<link rel="prev" href="Building-sources.html#Building-sources" title="Building sources">
<link rel="next" href="Initializing-the-library.html#Initializing-the-library" title="Initializing the library">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual is for Libgcrypt
(version 1.6.1, 29 January 2014),
which is GNU's library of cryptographic building blocks.

Copyright (C) 2000, 2002, 2003, 2004, 2006, 2007, 2008, 2009, 2011, 2012 Free Software Foundation, Inc.

Copyright (C) 2012, 2013 g10 Code GmbH

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU General Public License as
     published by the Free Software Foundation; either version 2 of the
     License, or (at your option) any later version. The text of the
     license can be found in the section entitled ``GNU General Public
     License''.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Building-sources-using-Automake"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Initializing-the-library.html#Initializing-the-library">Initializing the library</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Building-sources.html#Building-sources">Building sources</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Preparation.html#Preparation">Preparation</a>
<hr>
</div>

<h3 class="section">2.3 Building sources using Automake</h3>

<p>It is much easier if you use GNU Automake instead of writing your own
Makefiles.  If you do that, you do not have to worry about finding and
invoking the <samp><span class="command">libgcrypt-config</span></samp> script at all. 
Libgcrypt provides an extension to Automake that does all
the work for you.

<!-- A simple macro for optional variables. -->
<div class="defun">
&mdash; Macro: <b>AM_PATH_LIBGCRYPT</b> (<span class="roman">[</span><var>minimum-version</var><span class="roman">]</span><var>, </var><span class="roman">[</span><var>action-if-found</var><span class="roman">]</span><var>, </var><span class="roman">[</span><var>action-if-not-found</var><span class="roman">]</span>)<var><a name="index-AM_005fPATH_005fLIBGCRYPT-1"></a></var><br>
<blockquote><p>Check whether Libgcrypt (at least version
<var>minimum-version</var>, if given) exists on the host system.  If it is
found, execute <var>action-if-found</var>, otherwise do
<var>action-if-not-found</var>, if given.

        <p>Additionally, the function defines <code>LIBGCRYPT_CFLAGS</code> to the
flags needed for compilation of the program to find the
<samp><span class="file">gcrypt.h</span></samp> header file, and <code>LIBGCRYPT_LIBS</code> to the linker
flags needed to link the program to the Libgcrypt library. 
</p></blockquote></div>

   <p>You can use the defined Autoconf variables like this in your
<samp><span class="file">Makefile.am</span></samp>:

<pre class="example">     AM_CPPFLAGS = $(LIBGCRYPT_CFLAGS)
     LDADD = $(LIBGCRYPT_LIBS)
</pre>
   </body></html>

